<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard Fisioterapeuta</title>
  <link rel="stylesheet" href="assets/css/dashboard_fisio.css">
  
</head>
<body>
  <div class="dashboard-container">

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <button class="btn-toggle-sidebar" id="toggleSidebar">
        <span class="toggle-icon">‚ò∞</span>
      </button>

      <div class="sidebar-header">
        <h2>TerapiaFisica+</h2>
      </div>
      <nav class="sidebar-nav">
        <button class="nav-item active" data-section="informacion-personal">
          <span class="nav-icon">üë§</span>
          <span>Informaci√≥n Personal</span>
        </button>
        <button class="nav-item" data-section="asignar-ejercicios">
          <span class="nav-icon">üìã</span>
          <span>Asignar Ejercicios</span>
        </button>
        <button class="nav-item" data-section="avance-paciente">
          <span class="nav-icon">üìä</span>
          <span>Avance Paciente</span>
        </button>
      </nav>

      <button class="btn-logout">
        <span class="nav-icon">üö™</span>
        <span>Cerrar Sesi√≥n</span>
      </button>
    </aside>

    <!-- Contenido principal -->
    <main class="main-content">
      <header class="content-header">
        <h1 id="section-title">Informaci√≥n Personal</h1>
      </header>

      <!-- ================== INFORMACI√ìN PERSONAL ================== -->
      <!-- Informaci√≥n Personal Section -->
      <section id="informacion-personal" class="content-section active">
          <div class="info-card">
              <div class="card-header">
                  <h3>T√≠tulo Profesional: Fisioterapeuta</h3>
                  <div class="header-actions">
                      <button class="btn-edit">Guardar Cambios</button>
                  </div>
              </div>
              <div class="info-grid">
                  <div class="info-item">
                      <label>Nombre</label>
                      <input type="text" class="info-input" id="inputNombre" value="Nombre fisio">
                  </div>
                  <div class="info-item">
                      <label>Apellido</label>
                      <input type="text" class="info-input" id="inputApellido" value="Apellido fisio">
                  </div>
                  <div class="info-item">
                      <label>Documento De Identidad</label>
                      <input type="text" class="info-input" id="inputDocumento" value="documento fisio" readonly>
                  </div>
                  <div class="info-item">
                      <label>Correo Electr√≥nico</label>
                      <input type="email" class="info-input" id="inputCorreo" value="correo fisio">
                  </div>
                  <div class="info-item">
                      <label>Tel√©fono</label>
                      <input type="tel" class="info-input" id="inputTelefono" value="telefono fisio">
                  </div>
              </div>

              <!-- Secci√≥n de Acciones Adicionales -->
              <div class="additional-actions">
                  <button class="btn-action-secondary btn-payment" id="btnRealizarPago">
                      <span class="btn-icon">üí≥</span>
                      Realizar Pago
                  </button>
                  <button class="btn-action-secondary btn-change-password" id="btnCambiarContrasena">
                      <span class="btn-icon">üîí</span>
                      Cambiar Contrase√±a
                  </button>
              </div>
          </div>
      </section>

      <!-- ================== ASIGNAR EJERCICIOS ================== -->
      <section id="asignar-ejercicios" class="content-section">
        <div class="search-card">
          <h3>Buscar Paciente Por C√©dula:</h3>
          <div class="search-bar">
            <input type="text" id="cedulaInput" placeholder="Ingrese c√©dula del paciente">
            <button id="btnBuscarCedula" class="btn-search">Buscar</button>
          </div>

          <div id="infoPaciente" class="info-card" style="display: none;">
            <h3>Datos del Paciente</h3>
            <p><strong>Nombre:</strong> <span id="pacienteNombre"></span></p>
            <p><strong>Correo:</strong> <span id="pacienteCorreo"></span></p>
          </div>

          <button class="btn-assign-exercises" id="assignSelectedExercises">Asignar Ejercicios Seleccionados</button>
        </div>

        <div class="exercises-card">
          <h3>Lista De Ejercicios Disponibles:</h3>
          <!-- Aqu√≠ se llenan los ejercicios desde el backend -->
          <div class="exercises-grid" id="exercisesGrid">
            <p>Cargando ejercicios...</p>
          </div>
        </div>
      </section>

      <!-- ================== AVANCE PACIENTE ================== -->
      <section id="avance-paciente" class="content-section">
        <div class="search-card">
          <h3>Buscar Paciente Por Nombre:</h3>
          <div class="search-bar">
            <input type="text" placeholder="Escriba el nombre del paciente a buscar">
            <button class="btn-search">Buscar</button>
          </div>
        </div>

        <div class="patients-card">
          <h3>Lista Pacientes Encontrados:</h3>
          <div class="patient-progress-item">
            <div class="progress-info">
              <p class="patient-name">Nombre Paciente</p>
              <p class="progress-label">Avance: <span class="progress-percentage">75%</span></p>
            </div>
            <div class="progress-bar">
              <div class="progress-fill" style="width: 75%"></div>
            </div>
            <div class="patient-actions">
              <button class="btn-action btn-details">Ver Detalles</button>
              <button class="btn-action btn-edit-paciente">Editar Paciente</button>
              <button class="btn-action btn-disable">Inhabilitar Paciente</button>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    // Verificar acceso antes de cargar el dashboard
      (function verificarAcceso() {
          const token = localStorage.getItem('token');
          const tipo = localStorage.getItem('tipo_usuario');
          const estado = localStorage.getItem('estado');
          
          if (!token || tipo !== 'fisio') {
              alert('‚ö†Ô∏è Debes iniciar sesi√≥n para acceder');
              window.location.href = 'index.html';
              return;
          }
          
          if (estado === 'inactivo') {
              alert('‚ö†Ô∏è Debes completar el pago para activar tu cuenta');
              window.location.href = 'pago.html';
              return;
          }

          console.log('‚úÖ Acceso permitido al dashboard');
      })();
  </script>
  <script src="assets/js/dashboard_fisio.js"></script>
</body>
</html>
